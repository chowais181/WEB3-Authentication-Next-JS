"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{6895:function(e,t,r){r.r(t),r.d(t,{default:function(){return de}});var a,s=r(2822),i=r(1755),n=r(9529),o=r(666),l=r(8764).Buffer,h=r(3454);(a="undefined"!=typeof window?window:void 0)&&(void 0===a.global&&(a.global=a),void 0===a.globalThis&&(a.globalThis=a),void 0===a.process&&(a.process={env:{NODE_ENV:"production"}}));var c,d=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.safeDeploymentsL1ChainIds=e.safeDeploymentsVersions=e.SAFE_BASE_VERSION=e.SAFE_LAST_VERSION=void 0,e.SAFE_LAST_VERSION="1.3.0",e.SAFE_BASE_VERSION="1.1.1",e.safeDeploymentsVersions={"1.3.0":{safeMasterCopyVersion:"1.3.0",safeMasterCopyL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",multiSendVersion:"1.3.0"},"1.2.0":{safeMasterCopyVersion:"1.2.0",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"},"1.1.1":{safeMasterCopyVersion:"1.1.1",safeMasterCopyL2Version:void 0,safeProxyFactoryVersion:"1.1.1",multiSendVersion:"1.1.1"}},e.safeDeploymentsL1ChainIds=[1]})),u=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getMultiSendContract=e.getProxyFactoryContract=e.getSafeContract=e.getSafeProxyFactoryContractDeployment=e.getMultiSendContractDeployment=e.getSafeContractDeployment=void 0;var t=(0,s.g)(),r=d();function a(e,a,s=!1){let i={version:r.safeDeploymentsVersions[e].safeMasterCopyVersion,network:a.toString(),released:!0};return r.safeDeploymentsL1ChainIds.includes(a)||s?(0,t.getSafeSingletonDeployment)(i):(0,t.getSafeL2SingletonDeployment)(i)}function i(e,a){let s=r.safeDeploymentsVersions[e].multiSendVersion;return(0,t.getMultiSendDeployment)({version:s,network:a.toString(),released:!0})}function n(e,a){let s=r.safeDeploymentsVersions[e].safeProxyFactoryVersion;return(0,t.getProxyFactoryDeployment)({version:s,network:a.toString(),released:!0})}async function l({ethAdapter:e,safeVersion:t,chainId:r,customSafeAddress:s,isL1SafeMasterCopy:i,customContracts:n}){let o=a(t,r,i),l=e.getSafeContract({safeVersion:t,chainId:r,singletonDeployment:o,customContractAddress:s??(null==n?void 0:n.safeMasterCopyAddress),customContractAbi:null==n?void 0:n.safeMasterCopyAbi});if(!(await e.isContractDeployed(l.getAddress())))throw new Error("Safe Proxy contract is not deployed on the current network");return l}async function h({ethAdapter:e,safeVersion:t,chainId:r,customContracts:a}){let s=n(t,r),i=await e.getSafeProxyFactoryContract({safeVersion:t,chainId:r,singletonDeployment:s,customContractAddress:null==a?void 0:a.safeProxyFactoryAddress,customContractAbi:null==a?void 0:a.safeProxyFactoryAbi});if(!(await e.isContractDeployed(i.getAddress())))throw new Error("Safe Proxy Factory contract is not deployed on the current network");return i}async function c({ethAdapter:e,safeVersion:t,chainId:r,customContracts:a}){let s=i(t,r),n=await e.getMultiSendContract({safeVersion:t,chainId:r,singletonDeployment:s,customContractAddress:null==a?void 0:a.multiSendAddress,customContractAbi:null==a?void 0:a.multiSendAbi});if(!(await e.isContractDeployed(n.getAddress())))throw new Error("Multi Send contract is not deployed on the current network");return n}(0,o.c)(a,"getSafeContractDeployment"),e.getSafeContractDeployment=a,(0,o.c)(i,"getMultiSendContractDeployment"),e.getMultiSendContractDeployment=i,(0,o.c)(n,"getSafeProxyFactoryContractDeployment"),e.getSafeProxyFactoryContractDeployment=n,(0,o.c)(l,"getSafeContract"),e.getSafeContract=l,(0,o.c)(h,"getProxyFactoryContract"),e.getProxyFactoryContract=h,(0,o.c)(c,"getMultiSendContract"),e.getMultiSendContract=c})),f=(0,o.g)((e=>{var t,r,a,s,i=e&&e.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},n=e&&e.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Object.defineProperty(e,"__esModule",{value:!0});var l=d(),h=u(),c=(0,o.c)(class e{constructor(){t.set(this,void 0),r.set(this,void 0),a.set(this,void 0),s.set(this,void 0)}static async create({ethAdapter:t,safeAddress:r,isL1SafeMasterCopy:a,contractNetworks:s}){let i=new e;return await i.init({ethAdapter:t,safeAddress:r,isL1SafeMasterCopy:a,contractNetworks:s}),i}async init({ethAdapter:e,safeAddress:n,isL1SafeMasterCopy:o,contractNetworks:c}){let d=await e.getChainId(),u=null==c?void 0:c[d];i(this,t,c,"f"),i(this,r,o,"f");let f=await(await(0,h.getSafeContract)({ethAdapter:e,safeVersion:l.SAFE_LAST_VERSION,chainId:d,isL1SafeMasterCopy:o,customSafeAddress:n,customContracts:u})).getVersion();i(this,a,await(0,h.getSafeContract)({ethAdapter:e,safeVersion:f,chainId:d,isL1SafeMasterCopy:o,customSafeAddress:n,customContracts:u}),"f"),i(this,s,await(0,h.getMultiSendContract)({ethAdapter:e,safeVersion:f,chainId:d,customContracts:u}),"f")}get contractNetworks(){return n(this,t,"f")}get isL1SafeMasterCopy(){return n(this,r,"f")}get safeContract(){return n(this,a,"f")}get multiSendContract(){return n(this,s,"f")}},"ContractManager");t=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,e.default=c})),p=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL_ADDRESS=e.EMPTY_DATA=e.ZERO_ADDRESS=void 0,e.ZERO_ADDRESS=`0x${"0".repeat(40)}`,e.EMPTY_DATA="0x",e.SENTINEL_ADDRESS="0x0000000000000000000000000000000000000001"})),g=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isMetaTransactionArray=e.isRestrictedAddress=e.sameString=void 0;var t=p();function r(e,t){return e.toLowerCase()===t.toLowerCase()}function a(e){return e===t.ZERO_ADDRESS}function s(e){return e===t.SENTINEL_ADDRESS}function i(e){return a(e)||s(e)}function n(e){return void 0!==(null==e?void 0:e.length)}(0,o.c)(r,"sameString"),e.sameString=r,(0,o.c)(a,"isZeroAddress"),(0,o.c)(s,"isSentinelAddress"),(0,o.c)(i,"isRestrictedAddress"),e.isRestrictedAddress=i,(0,o.c)(n,"isMetaTransactionArray"),e.isMetaTransactionArray=n})),v=(0,o.g)((e=>{var t,r,a=e&&e.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},s=e&&e.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Object.defineProperty(e,"__esModule",{value:!0});var i=g(),n=p(),l=(0,o.c)(class{constructor(e,s){t.set(this,void 0),r.set(this,void 0),a(this,t,e,"f"),a(this,r,s,"f")}validateModuleAddress(e){if(!s(this,t,"f").isAddress(e)||(0,i.isRestrictedAddress)(e))throw new Error("Invalid module address provided")}validateModuleIsNotEnabled(e,t){if(t.findIndex((t=>(0,i.sameString)(t,e)))>=0)throw new Error("Module provided is already enabled")}validateModuleIsEnabled(e,t){let r=t.findIndex((t=>(0,i.sameString)(t,e)));if(!(r>=0))throw new Error("Module provided is not enabled already");return r}async getModules(){return s(this,r,"f").getModules()}async isModuleEnabled(e){return s(this,r,"f").isModuleEnabled(e)}async encodeEnableModuleData(e){this.validateModuleAddress(e);let t=await this.getModules();return this.validateModuleIsNotEnabled(e,t),s(this,r,"f").encode("enableModule",[e])}async encodeDisableModuleData(e){this.validateModuleAddress(e);let t=await this.getModules(),a=this.validateModuleIsEnabled(e,t),i=0===a?n.SENTINEL_ADDRESS:t[a-1];return s(this,r,"f").encode("disableModule",[i,e])}},"ModuleManager");t=new WeakMap,r=new WeakMap,e.default=l})),E=(0,o.g)((e=>{var t,r,a=e&&e.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},s=e&&e.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)};Object.defineProperty(e,"__esModule",{value:!0});var i=g(),n=p(),l=(0,o.c)(class{constructor(e,s){t.set(this,void 0),r.set(this,void 0),a(this,t,e,"f"),a(this,r,s,"f")}validateOwnerAddress(e,r){if(!s(this,t,"f").isAddress(e)||(0,i.isRestrictedAddress)(e))throw new Error(r||"Invalid owner address provided")}validateThreshold(e,t){if(e<=0)throw new Error("Threshold needs to be greater than 0");if(e>t)throw new Error("Threshold cannot exceed owner count")}validateAddressIsNotOwner(e,t,r){if(t.findIndex((t=>(0,i.sameString)(t,e)))>=0)throw new Error(r||"Address provided is already an owner")}validateAddressIsOwner(e,t,r){let a=t.findIndex((t=>(0,i.sameString)(t,e)));if(!(a>=0))throw new Error(r||"Address provided is not an owner");return a}async getOwners(){return[...await s(this,r,"f").getOwners()]}async getThreshold(){return s(this,r,"f").getThreshold()}async isOwner(e){return s(this,r,"f").isOwner(e)}async encodeAddOwnerWithThresholdData(e,t){this.validateOwnerAddress(e);let a=await this.getOwners();this.validateAddressIsNotOwner(e,a);let i=t??await this.getThreshold();return this.validateThreshold(i,a.length+1),s(this,r,"f").encode("addOwnerWithThreshold",[e,i])}async encodeRemoveOwnerData(e,t){this.validateOwnerAddress(e);let a=await this.getOwners(),i=this.validateAddressIsOwner(e,a),o=t??await this.getThreshold()-1;this.validateThreshold(o,a.length-1);let l=0===i?n.SENTINEL_ADDRESS:a[i-1];return s(this,r,"f").encode("removeOwner",[l,e,o])}async encodeSwapOwnerData(e,t){this.validateOwnerAddress(t,"Invalid new owner address provided"),this.validateOwnerAddress(e,"Invalid old owner address provided");let a=await this.getOwners();this.validateAddressIsNotOwner(t,a,"New address provided is already an owner");let i=this.validateAddressIsOwner(e,a,"Old address provided is not an owner"),o=0===i?n.SENTINEL_ADDRESS:a[i-1];return s(this,r,"f").encode("swapOwner",[o,e,t])}async encodeChangeThresholdData(e){let t=await this.getOwners();return this.validateThreshold(e,t.length),s(this,r,"f").encode("changeThreshold",[e])}},"OwnerManager");t=new WeakMap,r=new WeakMap,e.default=l})),w=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=(0,o.c)(class{constructor(e,t){this.signer=e,this.data=t}staticPart(){return this.data}dynamicPart(){return""}},"EthSignSignature");e.default=t})),m=(0,o.g)((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.generateSignature=e.adjustVInSignature=e.isTxHashSignedWithPrefix=e.generatePreValidatedSignature=void 0;var r=(0,i.d)(),a=g(),s=t(w());function n(e){let t="0x000000000000000000000000"+e.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new s.default(e,t)}function h(e,t,s){let i;try{let n={r:l.from(t.slice(2,66),"hex"),s:l.from(t.slice(66,130),"hex"),v:parseInt(t.slice(130,132),16)},o=(0,r.ecrecover)(l.from(e.slice(2),"hex"),n.v,n.r,n.s),h=(0,r.bufferToHex)((0,r.pubToAddress)(o));i=!(0,a.sameString)(h,s)}catch{i=!0}return i}function c(e,t){let r=parseInt(e.slice(-2),16);if(![0,1,27,28].includes(r))throw new Error("Invalid signature");return r<27&&(r+=27),t&&(r+=4),e=e.slice(0,-2)+r.toString(16)}async function d(e,t){let r=await e.getSignerAddress(),a=await e.signMessage(t);return a=c(a,h(t,a,r)),new s.default(r,a)}(0,o.c)(n,"generatePreValidatedSignature"),e.generatePreValidatedSignature=n,(0,o.c)(h,"isTxHashSignedWithPrefix"),e.isTxHashSignedWithPrefix=h,(0,o.c)(c,"adjustVInSignature"),e.adjustVInSignature=c,(0,o.c)(d,"generateSignature"),e.generateSignature=d})),y=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0});var t=(0,o.c)(class{constructor(e){this.signatures=new Map,this.data=e}addSignature(e){this.signatures.set(e.signer.toLowerCase(),e)}encodedSignatures(){let e=Array.from(this.signatures.keys()).sort();e.length;let t="",r="";return e.forEach((e=>{let a=this.signatures.get(e);t+=null==a?void 0:a.staticPart().slice(2),r+=null==a?void 0:a.dynamicPart()})),"0x"+t+r}},"EthSafeTransaction");e.default=t})),S=(0,o.f)((()=>{c="sha2/5.6.1"}));function A(e){return"0x"+T.default.sha256().update((0,n.h)(e)).digest("hex")}var T,I,R=(0,o.f)((()=>{T=(0,o.i)((0,i.b)()),(0,n.s)(),(0,n.f)(),S(),new n.e(c),(0,o.c)(A,"sha256")})),O=(0,o.f)((()=>{R()})),N=(0,o.f)((()=>{I="solidity/5.6.1"})),$={};function C(e,t,r){switch(e){case"address":return r?(0,n.k)(t,32):(0,n.h)(t);case"string":return(0,s.d)(t);case"bytes":return(0,n.h)(t);case"bool":return t=t?"0x01":"0x00",r?(0,n.k)(t,32):(0,n.h)(t)}let a=e.match(x);if(a){let s=parseInt(a[2]||"256");return(a[2]&&String(s)!==a[2]||s%8!==0||0===s||s>256)&&F.throwArgumentError("invalid number type","type",e),r&&(s=256),t=n.t.from(t).toTwos(s),(0,n.k)(t,s/8)}if(a=e.match(D),a){let s=parseInt(a[1]);return(String(s)!==a[1]||0===s||s>32)&&F.throwArgumentError("invalid bytes type","type",e),(0,n.h)(t).byteLength!==s&&F.throwArgumentError(`invalid value for ${e}`,"value",t),r?(0,n.h)((t+_).substring(0,66)):t}if(a=e.match(P),a&&Array.isArray(t)){let r=a[1];parseInt(a[2]||String(t.length))!=t.length&&F.throwArgumentError(`invalid array length for ${e}`,"value",t);let s=[];return t.forEach((function(e){s.push(C(r,e,!0))})),(0,n.i)(s)}return F.throwArgumentError("invalid type","type",e)}function M(e,t){e.length!=t.length&&F.throwArgumentError("wrong number of values; expected ${ types.length }","values",t);let r=[];return e.forEach((function(e,a){r.push(C(e,t[a]))})),(0,n.m)((0,n.i)(r))}function L(e,t){return(0,s.b)(M(e,t))}function b(e,t){return A(M(e,t))}(0,o.h)($,{keccak256:()=>L,pack:()=>M,sha256:()=>b});var D,x,P,_,F,k=(0,o.f)((()=>{(0,n.x)(),(0,n.s)(),(0,s.c)(),O(),(0,s.f)(),(0,n.f)(),N(),D=new RegExp("^bytes([0-9]+)$"),x=new RegExp("^(u?int)([0-9]*)$"),P=new RegExp("^(.*)\\[([0-9]*)\\]$"),_="0000000000000000000000000000000000000000000000000000000000000000",F=new n.e(I),(0,o.c)(C,"_pack"),(0,o.c)(M,"pack"),(0,o.c)(L,"keccak256"),(0,o.c)(b,"sha256")})),G=(0,o.g)(((e,t)=>{t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}})),j=(0,o.g)(((e,t)=>{function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var a=0,s=arguments.length;a<s;a++)t.push(arguments[a]);return t}function a(e,t,r){var a=t===e.head?new n(r,null,t,e):new n(r,t,t.next,e);return null===a.next&&(e.tail=a),null===a.prev&&(e.head=a),e.length++,a}function s(e,t){e.tail=new n(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new n(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function n(e,t,r,a){if(!(this instanceof n))return new n(e,t,r,a);this.list=a,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=r,r.Node=n,r.create=r,(0,o.c)(r,"Yallist"),r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,a=0;null!==r;a++)e.call(t,r.value,a,this),r=r.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,a=this.length-1;null!==r;a--)e.call(t,r.value,a,this),r=r.prev},r.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},r.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},r.prototype.map=function(e,t){t=t||this;for(var a=new r,s=this.head;null!==s;)a.push(e.call(t,s.value,this)),s=s.next;return a},r.prototype.mapReverse=function(e,t){t=t||this;for(var a=new r,s=this.tail;null!==s;)a.push(e.call(t,s.value,this)),s=s.prev;return a},r.prototype.reduce=function(e,t){var r,a=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");a=this.head.next,r=this.head.value}for(var s=0;null!==a;s++)r=e(r,a.value,s),a=a.next;return r},r.prototype.reduceReverse=function(e,t){var r,a=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");a=this.tail.prev,r=this.tail.value}for(var s=this.length-1;null!==a;s--)r=e(r,a.value,s),a=a.prev;return r},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var a=new r;if(t<e||t<0)return a;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=0,i=this.head;null!==i&&s<e;s++)i=i.next;for(;null!==i&&s<t;s++,i=i.next)a.push(i.value);return a},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var a=new r;if(t<e||t<0)return a;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=this.length,i=this.tail;null!==i&&s>t;s--)i=i.prev;for(;null!==i&&s>e;s--,i=i.prev)a.push(i.value);return a},r.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,i=this.head;null!==i&&s<e;s++)i=i.next;var n=[];for(s=0;i&&s<t;s++)n.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(s=0;s<r.length;s++)i=a(this,i,r[s]);return n},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var a=r.prev;r.prev=r.next,r.next=a}return this.head=t,this.tail=e,this},(0,o.c)(a,"insert"),(0,o.c)(s,"push"),(0,o.c)(i,"unshift"),(0,o.c)(n,"Node");try{G()(r)}catch{}})),V=(0,o.g)(((e,t)=>{var r=j(),a=Symbol("max"),s=Symbol("length"),i=Symbol("lengthCalculator"),n=Symbol("allowStale"),l=Symbol("maxAge"),h=Symbol("dispose"),c=Symbol("noDisposeOnSet"),d=Symbol("lruList"),u=Symbol("cache"),f=Symbol("updateAgeOnGet"),p=(0,o.c)((()=>1),"naiveLength"),g=(0,o.c)(class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[a]=e.max||1/0;let t=e.length||p;if(this[i]="function"!=typeof t?p:t,this[n]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[h]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[f]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[a]=e||1/0,w(this)}get max(){return this[a]}set allowStale(e){this[n]=!!e}get allowStale(){return this[n]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[l]=e,w(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=p),e!==this[i]&&(this[i]=e,this[s]=0,this[d].forEach((e=>{e.length=this[i](e.value,e.key),this[s]+=e.length}))),w(this)}get lengthCalculator(){return this[i]}get length(){return this[s]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let a=r.prev;S(this,e,r,t),r=a}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let a=r.next;S(this,e,r,t),r=a}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[h]&&this[d]&&this[d].length&&this[d].forEach((e=>this[h](e.key,e.value))),this[u]=new Map,this[d]=new r,this[s]=0}dump(){return this[d].map((e=>!E(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");let n=r?Date.now():0,o=this[i](t,e);if(this[u].has(e)){if(o>this[a])return m(this,this[u].get(e)),!1;let i=this[u].get(e).value;return this[h]&&(this[c]||this[h](e,i.value)),i.now=n,i.maxAge=r,i.value=t,this[s]+=o-i.length,i.length=o,this.get(e),w(this),!0}let f=new y(e,t,o,n,r);return f.length>this[a]?(this[h]&&this[h](e,t),!1):(this[s]+=f.length,this[d].unshift(f),this[u].set(e,this[d].head),w(this),!0)}has(e){if(!this[u].has(e))return!1;let t=this[u].get(e).value;return!E(this,t)}get(e){return v(this,e,!0)}peek(e){return v(this,e,!1)}pop(){let e=this[d].tail;return e?(m(this,e),e.value):null}del(e){m(this,this[u].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let a=e[r],s=a.e||0;if(0===s)this.set(a.k,a.v);else{let e=s-t;e>0&&this.set(a.k,a.v,e)}}}prune(){this[u].forEach(((e,t)=>v(this,t,!1)))}},"LRUCache"),v=(0,o.c)(((e,t,r)=>{let a=e[u].get(t);if(a){let t=a.value;if(E(e,t)){if(m(e,a),!e[n])return}else r&&(e[f]&&(a.value.now=Date.now()),e[d].unshiftNode(a));return t.value}}),"get"),E=(0,o.c)(((e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]}),"isStale"),w=(0,o.c)((e=>{if(e[s]>e[a])for(let t=e[d].tail;e[s]>e[a]&&null!==t;){let r=t.prev;m(e,t),t=r}}),"trim"),m=(0,o.c)(((e,t)=>{if(t){let r=t.value;e[h]&&e[h](r.key,r.value),e[s]-=r.length,e[u].delete(r.key),e[d].removeNode(t)}}),"del"),y=(0,o.c)(class{constructor(e,t,r,a,s){this.key=e,this.value=t,this.length=r,this.now=a,this.maxAge=s||0}},"Entry"),S=(0,o.c)(((e,t,r,a)=>{let s=r.value;E(e,s)&&(m(e,r),e[n]||(s=void 0)),s&&t.call(a,s.value,s.key,e)}),"forEachStep");t.exports=g})),X=(0,o.g)(((e,t)=>{var r=["includePrerelease","loose","rtl"],a=(0,o.c)((e=>e?"object"!=typeof e?{loose:!0}:r.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}),"parseOptions");t.exports=a})),U=(0,o.g)(((e,t)=>{var r=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:r,MAX_SAFE_COMPONENT_LENGTH:16}})),H=(0,o.g)(((e,t)=>{var r="object"==typeof h&&h.env&&h.env.NODE_DEBUG&&/\bsemver\b/i.test(h.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};t.exports=r})),W=(0,o.g)(((e,t)=>{var{MAX_SAFE_COMPONENT_LENGTH:r}=U(),a=H(),s=(e=t.exports={}).re=[],i=e.src=[],n=e.t={},l=0,h=(0,o.c)(((e,t,r)=>{let o=l++;a(e,o,t),n[e]=o,i[o]=t,s[o]=new RegExp(t,r?"g":void 0)}),"createToken");h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${i[n.NUMERICIDENTIFIER]})\\.(${i[n.NUMERICIDENTIFIER]})\\.(${i[n.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${i[n.NUMERICIDENTIFIERLOOSE]})\\.(${i[n.NUMERICIDENTIFIERLOOSE]})\\.(${i[n.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${i[n.NUMERICIDENTIFIER]}|${i[n.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${i[n.NUMERICIDENTIFIERLOOSE]}|${i[n.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${i[n.PRERELEASEIDENTIFIER]}(?:\\.${i[n.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${i[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[n.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${i[n.BUILDIDENTIFIER]}(?:\\.${i[n.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${i[n.MAINVERSION]}${i[n.PRERELEASE]}?${i[n.BUILD]}?`),h("FULL",`^${i[n.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${i[n.MAINVERSIONLOOSE]}${i[n.PRERELEASELOOSE]}?${i[n.BUILD]}?`),h("LOOSE",`^${i[n.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${i[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${i[n.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${i[n.XRANGEIDENTIFIER]})(?:\\.(${i[n.XRANGEIDENTIFIER]})(?:\\.(${i[n.XRANGEIDENTIFIER]})(?:${i[n.PRERELEASE]})?${i[n.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${i[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[n.XRANGEIDENTIFIERLOOSE]})(?:${i[n.PRERELEASELOOSE]})?${i[n.BUILD]}?)?)?`),h("XRANGE",`^${i[n.GTLT]}\\s*${i[n.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${i[n.GTLT]}\\s*${i[n.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),h("COERCERTL",i[n.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${i[n.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",h("TILDE",`^${i[n.LONETILDE]}${i[n.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${i[n.LONETILDE]}${i[n.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${i[n.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",h("CARET",`^${i[n.LONECARET]}${i[n.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${i[n.LONECARET]}${i[n.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${i[n.GTLT]}\\s*(${i[n.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${i[n.GTLT]}\\s*(${i[n.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${i[n.GTLT]}\\s*(${i[n.LOOSEPLAIN]}|${i[n.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${i[n.XRANGEPLAIN]})\\s+-\\s+(${i[n.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${i[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[n.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})),B=(0,o.g)(((e,t)=>{var r=/^[0-9]+$/,a=(0,o.c)(((e,t)=>{let a=r.test(e),s=r.test(t);return a&&s&&(e=+e,t=+t),e===t?0:a&&!s?-1:s&&!a?1:e<t?-1:1}),"compareIdentifiers"),s=(0,o.c)(((e,t)=>a(t,e)),"rcompareIdentifiers");t.exports={compareIdentifiers:a,rcompareIdentifiers:s}})),z=(0,o.g)(((e,t)=>{var r=H(),{MAX_LENGTH:a,MAX_SAFE_INTEGER:s}=U(),{re:i,t:l}=W(),h=X(),{compareIdentifiers:c}=B(),d=(0,o.c)(class{constructor(e,t){if(t=h(t),e instanceof n.x){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>a)throw new TypeError(`version is longer than ${a} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let o=e.trim().match(t.loose?i[l.LOOSE]:i[l.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<s)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof n.x)){if("string"==typeof e&&e===this.version)return 0;e=new n.x(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n.x||(e=new n.x(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof n.x||(e=new n.x(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let a=this.prerelease[t],s=e.prerelease[t];if(r("prerelease compare",t,a,s),void 0===a&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===a)return-1;if(a!==s)return c(a,s)}while(++t)}compareBuild(e){e instanceof n.x||(e=new n.x(e,this.options));let t=0;do{let a=this.build[t],s=e.build[t];if(r("prerelease compare",t,a,s),void 0===a&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===a)return-1;if(a!==s)return c(a,s)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}},"SemVer");t.exports=d})),Z=(0,o.g)(((e,t)=>{var r=z(),a=(0,o.c)(((e,t,a)=>new r(e,a).compare(new r(t,a))),"compare");t.exports=a})),Y=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>0===r(e,t,a)),"eq");t.exports=a})),q=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>0!==r(e,t,a)),"neq");t.exports=a})),J=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>r(e,t,a)>0),"gt");t.exports=a})),K=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>r(e,t,a)>=0),"gte");t.exports=a})),Q=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>r(e,t,a)<0),"lt");t.exports=a})),ee=(0,o.g)(((e,t)=>{var r=Z(),a=(0,o.c)(((e,t,a)=>r(e,t,a)<=0),"lte");t.exports=a})),te=(0,o.g)(((e,t)=>{var r=Y(),a=q(),s=J(),i=K(),n=Q(),l=ee(),h=(0,o.c)(((e,t,o,h)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e===o;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e!==o;case"":case"=":case"==":return r(e,o,h);case"!=":return a(e,o,h);case">":return s(e,o,h);case">=":return i(e,o,h);case"<":return n(e,o,h);case"<=":return l(e,o,h);default:throw new TypeError(`Invalid operator: ${t}`)}}),"cmp");t.exports=h})),re=(0,o.g)(((e,t)=>{var r=Symbol("SemVer ANY"),a=(0,o.c)(class e{static get ANY(){return r}constructor(t,a){if(a=s(a),t instanceof e){if(t.loose===!!a.loose)return t;t=t.value}h("comparator",t,a),this.options=a,this.loose=!!a.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,h("comp",this)}parse(e){let t=this.options.loose?i[n.COMPARATORLOOSE]:i[n.COMPARATOR],a=e.match(t);if(!a)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==a[1]?a[1]:"","="===this.operator&&(this.operator=""),a[2]?this.semver=new c(a[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(h("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch{return!1}return l(e,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");if((!r||"object"!=typeof r)&&(r={loose:!!r,includePrerelease:!1}),""===this.operator)return""===this.value||new d(t.value,r).test(this.value);if(""===t.operator)return""===t.value||new d(this.value,r).test(t.semver);let a=(">="===this.operator||">"===this.operator)&&(">="===t.operator||">"===t.operator),s=("<="===this.operator||"<"===this.operator)&&("<="===t.operator||"<"===t.operator),i=this.semver.version===t.semver.version,n=(">="===this.operator||"<="===this.operator)&&(">="===t.operator||"<="===t.operator),o=l(this.semver,"<",t.semver,r)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),h=l(this.semver,">",t.semver,r)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return a||s||i&&n||o||h}},"Comparator");t.exports=a;var s=X(),{re:i,t:n}=W(),l=te(),h=H(),c=z(),d=ae()})),ae=(0,o.g)(((e,t)=>{var r=(0,o.c)(class e{constructor(t,r){if(r=s(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof i)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t,this.set=t.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${t}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter((e=>!p(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(let t of this.set)if(1===t.length&&g(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();let t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=a.get(t);if(r)return r;let s=this.options.loose,o=s?h[c.HYPHENRANGELOOSE]:h[c.HYPHENRANGE];e=e.replace(o,N(this.options.includePrerelease)),n("hyphen replace",e),e=e.replace(h[c.COMPARATORTRIM],d),n("comparator trim",e);let l=(e=(e=(e=e.replace(h[c.TILDETRIM],u)).replace(h[c.CARETTRIM],f)).split(/\s+/).join(" ")).split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>O(e,this.options)));s&&(l=l.filter((e=>(n("loose invalid filter",e,this.options),!!e.match(h[c.COMPARATORLOOSE]))))),n("range list",l);let g=new Map,v=l.map((e=>new i(e,this.options)));for(let a of v){if(p(a))return[a];g.set(a.value,a)}g.size>1&&g.has("")&&g.delete("");let w=[...g.values()];return a.set(t,w),w}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some((e=>v(e,r)&&t.set.some((t=>v(t,r)&&e.every((e=>t.every((t=>e.intersects(t,r)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if($(this.set[t],e,this.options))return!0;return!1}},"Range");t.exports=r;var a=new(V())({max:1e3}),s=X(),i=re(),n=H(),l=z(),{re:h,t:c,comparatorTrimReplace:d,tildeTrimReplace:u,caretTrimReplace:f}=W(),p=(0,o.c)((e=>"<0.0.0-0"===e.value),"isNullSet"),g=(0,o.c)((e=>""===e.value),"isAny"),v=(0,o.c)(((e,t)=>{let r=!0,a=e.slice(),s=a.pop();for(;r&&a.length;)r=a.every((e=>s.intersects(e,t))),s=a.pop();return r}),"isSatisfiable"),E=(0,o.c)(((e,t)=>(n("comp",e,t),e=S(e,t),n("caret",e),e=m(e,t),n("tildes",e),e=T(e,t),n("xrange",e),e=R(e,t),n("stars",e),e)),"parseComparator"),w=(0,o.c)((e=>!e||"x"===e.toLowerCase()||"*"===e),"isX"),m=(0,o.c)(((e,t)=>e.trim().split(/\s+/).map((e=>y(e,t))).join(" ")),"replaceTildes"),y=(0,o.c)(((e,t)=>{let r=t.loose?h[c.TILDELOOSE]:h[c.TILDE];return e.replace(r,((t,r,a,s,i)=>{let o;return n("tilde",e,t,r,a,s,i),w(r)?o="":w(a)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:w(s)?o=`>=${r}.${a}.0 <${r}.${+a+1}.0-0`:i?(n("replaceTilde pr",i),o=`>=${r}.${a}.${s}-${i} <${r}.${+a+1}.0-0`):o=`>=${r}.${a}.${s} <${r}.${+a+1}.0-0`,n("tilde return",o),o}))}),"replaceTilde"),S=(0,o.c)(((e,t)=>e.trim().split(/\s+/).map((e=>A(e,t))).join(" ")),"replaceCarets"),A=(0,o.c)(((e,t)=>{n("caret",e,t);let r=t.loose?h[c.CARETLOOSE]:h[c.CARET],a=t.includePrerelease?"-0":"";return e.replace(r,((t,r,s,i,o)=>{let l;return n("caret",e,t,r,s,i,o),w(r)?l="":w(s)?l=`>=${r}.0.0${a} <${+r+1}.0.0-0`:w(i)?l="0"===r?`>=${r}.${s}.0${a} <${r}.${+s+1}.0-0`:`>=${r}.${s}.0${a} <${+r+1}.0.0-0`:o?(n("replaceCaret pr",o),l="0"===r?"0"===s?`>=${r}.${s}.${i}-${o} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}-${o} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i}-${o} <${+r+1}.0.0-0`):(n("no pr"),l="0"===r?"0"===s?`>=${r}.${s}.${i}${a} <${r}.${s}.${+i+1}-0`:`>=${r}.${s}.${i}${a} <${r}.${+s+1}.0-0`:`>=${r}.${s}.${i} <${+r+1}.0.0-0`),n("caret return",l),l}))}),"replaceCaret"),T=(0,o.c)(((e,t)=>(n("replaceXRanges",e,t),e.split(/\s+/).map((e=>I(e,t))).join(" "))),"replaceXRanges"),I=(0,o.c)(((e,t)=>{e=e.trim();let r=t.loose?h[c.XRANGELOOSE]:h[c.XRANGE];return e.replace(r,((r,a,s,i,o,l)=>{n("xRange",e,r,a,s,i,o,l);let h=w(s),c=h||w(i),d=c||w(o),u=d;return"="===a&&u&&(a=""),l=t.includePrerelease?"-0":"",h?r=">"===a||"<"===a?"<0.0.0-0":"*":a&&u?(c&&(i=0),o=0,">"===a?(a=">=",c?(s=+s+1,i=0,o=0):(i=+i+1,o=0)):"<="===a&&(a="<",c?s=+s+1:i=+i+1),"<"===a&&(l="-0"),r=`${a+s}.${i}.${o}${l}`):c?r=`>=${s}.0.0${l} <${+s+1}.0.0-0`:d&&(r=`>=${s}.${i}.0${l} <${s}.${+i+1}.0-0`),n("xRange return",r),r}))}),"replaceXRange"),R=(0,o.c)(((e,t)=>(n("replaceStars",e,t),e.trim().replace(h[c.STAR],""))),"replaceStars"),O=(0,o.c)(((e,t)=>(n("replaceGTE0",e,t),e.trim().replace(h[t.includePrerelease?c.GTE0PRE:c.GTE0],""))),"replaceGTE0"),N=(0,o.c)((e=>(t,r,a,s,i,n,o,l,h,c,d,u,f)=>`${r=w(a)?"":w(s)?`>=${a}.0.0${e?"-0":""}`:w(i)?`>=${a}.${s}.0${e?"-0":""}`:n?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=w(h)?"":w(c)?`<${+h+1}.0.0-0`:w(d)?`<${h}.${+c+1}.0-0`:u?`<=${h}.${c}.${d}-${u}`:e?`<${h}.${c}.${+d+1}-0`:`<=${l}`}`.trim()),"hyphenReplace"),$=(0,o.c)(((e,t,r)=>{for(let a=0;a<e.length;a++)if(!e[a].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==i.ANY&&e[r].semver.prerelease.length>0){let a=e[r].semver;if(a.major===t.major&&a.minor===t.minor&&a.patch===t.patch)return!0}return!1}return!0}),"testSet")})),se=(0,o.g)(((e,t)=>{var r=ae(),a=(0,o.c)(((e,t,a)=>{try{t=new r(t,a)}catch{return!1}return t.test(e)}),"satisfies");t.exports=a})),ie=(0,o.g)((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.hasFeature=e.enabledFeatures=e.FEATURES=void 0;var r,a,s=t(se());(a=r=e.FEATURES||(e.FEATURES={}))[a.SAFE_TX_GAS_OPTIONAL=0]="SAFE_TX_GAS_OPTIONAL";var i={[r.SAFE_TX_GAS_OPTIONAL]:">=1.3.0"},n=(0,o.c)(((e,t)=>!(e in i)||(0,s.default)(t,i[e])),"isEnabledByVersion"),l=(0,o.c)((e=>Object.values(r).filter((t=>n(t,e)))),"enabledFeatures");e.enabledFeatures=l;var h=(0,o.c)(((t,r)=>(0,e.enabledFeatures)(r).includes(t)),"hasFeature");e.hasFeature=h})),ne=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.estimateTxGas=void 0;var t=((0,n.x)(),(0,o.j)(n.w)),r=(0,s.a)();function a(e){let t=(0,o.c)(((e,t)=>"0x"===t?e+0:"00"===t?e+4:e+16),"reducer");return e.match(/.{2}/g).reduce(t,0)}async function i(e,s,i,n,o,l){let h=0,c=e.getAddress(),d=e.encode("requiredTxGas",[i,n,o,l]);try{let e=(await s.estimateGas({to:c,from:c,data:d})).toString();h=t.BigNumber.from("0x"+e.substring(138)).toNumber()+1e4}catch{}if(h>0){let e=a(d),t=1e4;for(let r=0;r<10;r++){try{if("0x"!==await s.call({to:c,from:c,data:d,gasPrice:0,gasLimit:h+e+t}))break}catch{}h+=t,t*=2}return h+t}try{return await s.estimateGas({to:i,from:c,value:n,data:o})}catch(u){return l===r.OperationType.DelegateCall?0:Promise.reject(u)}}(0,o.c)(a,"estimateDataGasCosts"),(0,o.c)(i,"estimateTxGas"),e.estimateTxGas=i})),oe=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.encodeMultiSendData=e.standardizeSafeTransactionData=e.standardizeMetaTransactionData=void 0;var t=((0,n.s)(),(0,o.j)(n.r)),r=(k(),(0,o.j)($)),a=(0,s.a)(),i=p(),l=ie(),h=ne();function c(e){var t;return(0,o.b)((0,o.a)({},e),{operation:null!==(t=e.operation)&&void 0!==t?t:a.OperationType.Call})}async function d(e,t,r){var s,n,c,d,u;let f,p={to:r.to,value:r.value,data:r.data,operation:null!==(s=r.operation)&&void 0!==s?s:a.OperationType.Call,baseGas:null!==(n=r.baseGas)&&void 0!==n?n:0,gasPrice:null!==(c=r.gasPrice)&&void 0!==c?c:0,gasToken:r.gasToken||i.ZERO_ADDRESS,refundReceiver:r.refundReceiver||i.ZERO_ADDRESS,nonce:null!==(d=r.nonce)&&void 0!==d?d:await e.getNonce()},g=await e.getVersion();return f=(0,l.hasFeature)(l.FEATURES.SAFE_TX_GAS_OPTIONAL,g)&&0===p.gasPrice?0:null!==(u=r.safeTxGas)&&void 0!==u?u:await(0,h.estimateTxGas)(e,t,p.to,p.value,p.data,p.operation),(0,o.b)((0,o.a)({},p),{safeTxGas:f})}function u(e){let a=(0,t.arrayify)(e.data);return(0,r.pack)(["uint8","address","uint256","uint256","bytes"],[e.operation,e.to,e.value,a.length,a]).slice(2)}function f(e){return"0x"+e.map((e=>u(e))).join("")}(0,o.c)(c,"standardizeMetaTransactionData"),e.standardizeMetaTransactionData=c,(0,o.c)(d,"standardizeSafeTransactionData"),e.standardizeSafeTransactionData=d,(0,o.c)(u,"encodeMetaTransaction"),(0,o.c)(f,"encodeMultiSendData"),e.encodeMultiSendData=f})),le=(0,o.g)((e=>{var t,r,a,i,l=e&&e.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},h=e&&e.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)},c=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var d=((0,n.x)(),(0,o.j)(n.w)),u=(0,s.a)(),p=c(f()),w=c(v()),S=c(E()),A=g(),T=m(),I=c(y()),R=oe(),O=(0,o.c)(class e{constructor(){t.set(this,void 0),r.set(this,void 0),a.set(this,void 0),i.set(this,void 0)}static async create({ethAdapter:t,safeAddress:r,isL1SafeMasterCopy:a,contractNetworks:s}){let i=new e;return await i.init({ethAdapter:t,safeAddress:r,isL1SafeMasterCopy:a,contractNetworks:s}),i}async init({ethAdapter:e,safeAddress:s,isL1SafeMasterCopy:n,contractNetworks:o}){l(this,t,e,"f"),l(this,r,await p.default.create({ethAdapter:h(this,t,"f"),safeAddress:s,isL1SafeMasterCopy:n,contractNetworks:o}),"f"),l(this,a,new S.default(h(this,t,"f"),h(this,r,"f").safeContract),"f"),l(this,i,new w.default(h(this,t,"f"),h(this,r,"f").safeContract),"f")}async connect({ethAdapter:a,safeAddress:s,isL1SafeMasterCopy:i,contractNetworks:n}){return await e.create({ethAdapter:a||h(this,t,"f"),safeAddress:s||this.getAddress(),isL1SafeMasterCopy:i||h(this,r,"f").isL1SafeMasterCopy,contractNetworks:n||h(this,r,"f").contractNetworks})}getAddress(){return h(this,r,"f").safeContract.getAddress()}getContractManager(){return h(this,r,"f")}getEthAdapter(){return h(this,t,"f")}getMultiSendAddress(){return h(this,r,"f").multiSendContract.getAddress()}async getContractVersion(){return h(this,r,"f").safeContract.getVersion()}async getOwners(){return h(this,a,"f").getOwners()}async getNonce(){return h(this,r,"f").safeContract.getNonce()}async getThreshold(){return h(this,a,"f").getThreshold()}async getChainId(){return h(this,t,"f").getChainId()}async getBalance(){return h(this,t,"f").getBalance(this.getAddress())}async getModules(){return h(this,i,"f").getModules()}async isModuleEnabled(e){return h(this,i,"f").isModuleEnabled(e)}async isOwner(e){return h(this,a,"f").isOwner(e)}async createTransaction(e,a){if((0,A.isMetaTransactionArray)(e)&&0===e.length)throw new Error("Invalid empty array of transactions");let s;if((0,A.isMetaTransactionArray)(e)&&e.length>1){let t=(0,R.encodeMultiSendData)(e.map(R.standardizeMetaTransactionData));s=(0,o.b)((0,o.a)({},a),{to:h(this,r,"f").multiSendContract.getAddress(),value:"0",data:h(this,r,"f").multiSendContract.encode("multiSend",[t]),operation:u.OperationType.DelegateCall})}else s=(0,A.isMetaTransactionArray)(e)?(0,o.a)((0,o.a)({},a),e[0]):e;let i=await(0,R.standardizeSafeTransactionData)(h(this,r,"f").safeContract,h(this,t,"f"),s);return new I.default(i)}async createRejectionTransaction(e){return this.createTransaction({to:this.getAddress(),nonce:e,value:"0",data:"0x",safeTxGas:0})}async getTransactionHash(e){let t=e.data;return await h(this,r,"f").safeContract.getTransactionHash(t)}async signTransactionHash(e){let r=await this.getOwners(),a=await h(this,t,"f").getSignerAddress();if(!r.find((e=>a&&(0,A.sameString)(e,a))))throw new Error("Transactions can only be signed by Safe owners");return(0,T.generateSignature)(h(this,t,"f"),e)}async signTransaction(e){let t=await this.getTransactionHash(e),r=await this.signTransactionHash(t);e.addSignature(r)}async approveTransactionHash(e,a){let s=await this.getOwners(),i=await h(this,t,"f").getSignerAddress();if(!s.find((e=>i&&(0,A.sameString)(e,i))))throw new Error("Transaction hashes can only be approved by Safe owners");if((null==a?void 0:a.gas)&&(null==a?void 0:a.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return h(this,r,"f").safeContract.approveHash(e,(0,o.a)({from:i},a))}async getOwnersWhoApprovedTx(e){let t=await this.getOwners(),a=[];for(let s of t)(await h(this,r,"f").safeContract.approvedHashes(s,e)).gt(0)&&a.push(s);return a}async getEnableModuleTx(e,t){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,i,"f").encodeEnableModuleData(e)},t))}async getDisableModuleTx(e,t){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,i,"f").encodeDisableModuleData(e)},t))}async getAddOwnerTx({ownerAddress:e,threshold:t},r){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,a,"f").encodeAddOwnerWithThresholdData(e,t)},r))}async getRemoveOwnerTx({ownerAddress:e,threshold:t},r){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,a,"f").encodeRemoveOwnerData(e,t)},r))}async getSwapOwnerTx({oldOwnerAddress:e,newOwnerAddress:t},r){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,a,"f").encodeSwapOwnerData(e,t)},r))}async getChangeThresholdTx(e,t){return await this.createTransaction((0,o.a)({to:this.getAddress(),value:"0",data:await h(this,a,"f").encodeChangeThresholdData(e)},t))}async executeTransaction(e,a){let s=await this.getTransactionHash(e),i=await this.getOwnersWhoApprovedTx(s);for(let t of i)e.addSignature((0,T.generatePreValidatedSignature)(t));let n=await this.getOwners(),l=await h(this,t,"f").getSignerAddress();n.includes(l)&&e.addSignature((0,T.generatePreValidatedSignature)(l));let c=await this.getThreshold();if(c>e.signatures.size){let t=c-e.signatures.size;throw new Error(`There ${t>1?"are":"is"} ${t} signature${t>1?"s":""} missing`)}let u=d.BigNumber.from(e.data.value);if(!u.isZero()){let e=await this.getBalance();if(u.gt(d.BigNumber.from(e)))throw new Error("Not enough Ether funds")}if((null==a?void 0:a.gas)&&(null==a?void 0:a.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");return await h(this,r,"f").safeContract.execTransaction(e,(0,o.a)({from:l},a))}},"Safe");t=new WeakMap,r=new WeakMap,a=new WeakMap,i=new WeakMap,e.default=O})),he=(0,o.g)((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.validateSafeAccountConfig=void 0;var t=(0,o.c)((({owners:e,threshold:t})=>{if(e.length<=0)throw new Error("Owner list must have at least one owner");if(t<=0)throw new Error("Threshold must be greater than or equal to 1");if(t>e.length)throw new Error("Threshold must be lower than or equal to owners length")}),"validateSafeAccountConfig");e.validateSafeAccountConfig=t})),ce=(0,o.g)((e=>{var t,r,a,s,i,n,l=e&&e.__classPrivateFieldSet||function(e,t,r,a,s){if("m"===a)throw new TypeError("Private method is not writable");if("a"===a&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?s.call(e,r):s?s.value=r:t.set(e,r),r},h=e&&e.__classPrivateFieldGet||function(e,t,r,a){if("a"===r&&!a)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?a:"a"===r?a.call(e):a?a.value:t.get(e)},c=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0});var f=d(),g=u(),v=c(le()),E=p(),w=he(),m=(0,o.c)(class e{constructor(){t.set(this,void 0),r.set(this,void 0),a.set(this,void 0),s.set(this,void 0),i.set(this,void 0),n.set(this,void 0)}static async create({ethAdapter:t,safeVersion:r=f.SAFE_LAST_VERSION,isL1SafeMasterCopy:a=!1,contractNetworks:s}){let i=new e;return await i.init({ethAdapter:t,safeVersion:r,isL1SafeMasterCopy:a,contractNetworks:s}),i}async init({ethAdapter:e,safeVersion:o,isL1SafeMasterCopy:c,contractNetworks:d}){l(this,s,e,"f"),l(this,a,o,"f"),l(this,r,c,"f"),l(this,t,d,"f");let u=await h(this,s,"f").getChainId(),f=null==d?void 0:d[u];l(this,i,await(0,g.getProxyFactoryContract)({ethAdapter:e,safeVersion:o,chainId:u,customContracts:f}),"f"),l(this,n,await(0,g.getSafeContract)({ethAdapter:e,safeVersion:o,chainId:u,isL1SafeMasterCopy:c,customContracts:f}),"f")}getEthAdapter(){return h(this,s,"f")}getSafeVersion(){return h(this,a,"f")}getAddress(){return h(this,i,"f").getAddress()}async getChainId(){return h(this,s,"f").getChainId()}async encodeSetupCallData({owners:e,threshold:t,to:r=E.ZERO_ADDRESS,data:a=E.EMPTY_DATA,fallbackHandler:s=E.ZERO_ADDRESS,paymentToken:i=E.ZERO_ADDRESS,payment:o=0,paymentReceiver:l=E.ZERO_ADDRESS}){return h(this,n,"f").encode("setup",[e,t,r,a,s,i,o,l])}async deploySafe({safeAccountConfig:e,safeDeploymentConfig:a,options:l,callback:c}){var d;(0,w.validateSafeAccountConfig)(e);let u=await h(this,s,"f").getSignerAddress(),f=await this.encodeSetupCallData(e),p=null!==(d=null==a?void 0:a.saltNonce)&&void 0!==d?d:1e3*Date.now()+Math.floor(1e3*Math.random());if((null==l?void 0:l.gas)&&(null==l?void 0:l.gasLimit))throw new Error("Cannot specify gas and gasLimit together in transaction options");let g=await h(this,i,"f").createProxy({safeMasterCopyAddress:h(this,n,"f").getAddress(),initializer:f,saltNonce:p,options:(0,o.a)({from:u},l),callback:c});if(!(await h(this,s,"f").isContractDeployed(g)))throw new Error("Safe Proxy contract is not deployed on the current network");return await v.default.create({ethAdapter:h(this,s,"f"),safeAddress:g,isL1SafeMasterCopy:h(this,r,"f"),contractNetworks:h(this,t,"f")})}},"SafeFactory");t=new WeakMap,r=new WeakMap,a=new WeakMap,s=new WeakMap,i=new WeakMap,n=new WeakMap,e.default=m})),de=(0,o.g)((e=>{var t=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e,"__esModule",{value:!0}),e.standardizeSafeTransactionData=e.EthSignSignature=e.SafeFactory=e.ContractManager=void 0;var r=t(f());e.ContractManager=r.default;var a=t(le()),s=t(ce());e.SafeFactory=s.default;var i=t(w());e.EthSignSignature=i.default;var n=oe();Object.defineProperty(e,"standardizeSafeTransactionData",{enumerable:!0,get:function(){return n.standardizeSafeTransactionData}}),e.default=a.default}))()}}]);